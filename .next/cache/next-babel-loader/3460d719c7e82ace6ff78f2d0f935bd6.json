{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _isomorphicUnfetch = _interopRequireDefault(require(\"isomorphic-unfetch\"));\n\nconst credentials = `${process.env.TWITTER_API_KEY}:${process.env.TWITTER_API_SECRET}`;\nconst credentialsBase64Encoded = new Buffer(credentials).toString('base64');\n\nasync function getTwitterToken() {\n  let res = await (0, _isomorphicUnfetch.default)(\"https://api.twitter.com/oauth2/token\", {\n    body: 'grant_type=client_credentials',\n    headers: {\n      \"Authorization\": `Basic ${credentialsBase64Encoded}`,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    },\n    method: \"POST\"\n  });\n  let json = await res.json();\n  return json.access_token;\n} // pass in username no @ and get avatar\n\n\nasync function getTwitterAvatar(username) {\n  let accessToken = await getTwitterToken();\n  let res = await (0, _isomorphicUnfetch.default)(`https://api.twitter.com/1.1/users/show.json?screen_name=${username}`, {}); // https://api.twitter.com/1.1/users/show.json\n}\n\nvoid async function main() {\n  await getTwitterToken();\n}();\nmodule.exports = {};","map":{"version":3,"sources":["/Users/danigrant/Projects/explainthis/components/Twitter.js"],"names":["credentials","process","env","TWITTER_API_KEY","TWITTER_API_SECRET","credentialsBase64Encoded","Buffer","toString","getTwitterToken","res","body","headers","method","json","access_token","getTwitterAvatar","username","accessToken","main","module","exports"],"mappings":";;;;AAAA;;AAEA,MAAMA,WAAW,GAAI,GAAEC,OAAO,CAACC,GAAR,CAAYC,eAAgB,IAAGF,OAAO,CAACC,GAAR,CAAYE,kBAAmB,EAArF;AACA,MAAMC,wBAAwB,GAAG,IAAIC,MAAJ,CAAWN,WAAX,EAAwBO,QAAxB,CAAiC,QAAjC,CAAjC;;AAEA,eAAeC,eAAf,GAAiC;AAC/B,MAAIC,GAAG,GAAG,MAAM,gCAAM,sCAAN,EAA8C;AAC5DC,IAAAA,IAAI,EAAE,+BADsD;AAE5DC,IAAAA,OAAO,EAAE;AACP,uBAAkB,SAAQN,wBAAyB,EAD5C;AAEP,sBAAgB;AAFT,KAFmD;AAM5DO,IAAAA,MAAM,EAAE;AANoD,GAA9C,CAAhB;AAQA,MAAIC,IAAI,GAAG,MAAMJ,GAAG,CAACI,IAAJ,EAAjB;AACA,SAAOA,IAAI,CAACC,YAAZ;AACD,C,CAED;;;AACA,eAAeC,gBAAf,CAAgCC,QAAhC,EAA0C;AACxC,MAAIC,WAAW,GAAG,MAAMT,eAAe,EAAvC;AACA,MAAIC,GAAG,GAAG,MAAM,gCAAO,2DAA0DO,QAAS,EAA1E,EAA6E,EAA7E,CAAhB,CAFwC,CAKxC;AAED;;AAED,KAAK,eAAeE,IAAf,GAAsB;AACzB,QAAMV,eAAe,EAArB;AACD,CAFI,EAAL;AAIAW,MAAM,CAACC,OAAP,GAAiB,EAAjB","sourcesContent":["import fetch from 'isomorphic-unfetch';\n\nconst credentials = `${process.env.TWITTER_API_KEY}:${process.env.TWITTER_API_SECRET}`;\nconst credentialsBase64Encoded = new Buffer(credentials).toString('base64');\n\nasync function getTwitterToken() {\n  let res = await fetch(\"https://api.twitter.com/oauth2/token\", {\n    body: 'grant_type=client_credentials',\n    headers: {\n      \"Authorization\": `Basic ${credentialsBase64Encoded}`,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    },\n    method: \"POST\"\n  })\n  let json = await res.json()\n  return json.access_token\n}\n\n// pass in username no @ and get avatar\nasync function getTwitterAvatar(username) {\n  let accessToken = await getTwitterToken()\n  let res = await fetch(`https://api.twitter.com/1.1/users/show.json?screen_name=${username}`, {\n\n  })\n  // https://api.twitter.com/1.1/users/show.json\n\n}\n\nvoid async function main() {\n  await getTwitterToken()\n}()\n\nmodule.exports = {}\n"]},"metadata":{},"sourceType":"script"}