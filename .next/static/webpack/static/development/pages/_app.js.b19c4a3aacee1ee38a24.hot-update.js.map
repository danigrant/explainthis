{"version":3,"file":"static/webpack/static/development/pages/_app.js.b19c4a3aacee1ee38a24.hot-update.js","sources":["webpack:///./components/Twitter.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch';\n\nconst credentials = `${process.env.TWITTER_API_KEY}:${process.env.TWITTER_API_SECRET}`;\nconst credentialsBase64Encoded = new Buffer(credentials).toString('base64');\n\nasync function getTwitterToken() {\n  let res = await fetch(\"https://api.twitter.com/oauth2/token\", {\n    body: 'grant_type=client_credentials',\n    headers: {\n      \"Authorization\": `Basic ${credentialsBase64Encoded}`,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    },\n    method: \"POST\"\n  })\n  let json = await res.json()\n  return json.access_token\n}\n\n// pass in username no @ and get avatar\nasync function getTwitterAvatar(username) {\n  let accessToken = await getTwitterToken()\n  let res = await fetch(`https://api.twitter.com/1.1/users/show.json?screen_name=${username}`, {\n    headers: {\n      \"content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${accessToken}`\n    }\n  })\n  let json = await res.json()\n  console.log(json.profile_image_url_https);\n}\n\nvoid async function main() {\n  await getTwitterAvatar(\"@barackobama\")\n}()\n\nmodule.exports = { getTwitterAvatar }\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAaA;AACA;AACA;;;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AASA;AATA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAcA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAGA;AACA;AACA;AAFA;AADA;AACA;AAHA;AAEA;AAFA;AAAA;AACA;AADA;AAQA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AAAA;AAAA;;;;;A","sourceRoot":""}